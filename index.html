<!DOCTYPE html>
<html>
  <body>
    <div id="nameInputs">
      <div class="nameEntry">
        <input type="text" placeholder="Enter a name..." />
        <button onclick="removeNameInput(this)">Remove</button>
      </div>
    </div>

    <button onclick="addNameInput()">Add Another Name</button>
    <button onclick="assign()">Assign</button>

    <p id="output"></p>

    <script>
      function addNameInput() {
        let nameEntryDiv = document.createElement("div");
        nameEntryDiv.className = "nameEntry";

        let input = document.createElement("input");
        input.type = "text";
        input.placeholder = "Enter a name...";

        let removeButton = document.createElement("button");
        removeButton.innerText = "Remove";
        removeButton.onclick = function () {
          removeNameInput(removeButton);
        };

        nameEntryDiv.appendChild(input);
        nameEntryDiv.appendChild(removeButton);

        document.getElementById("nameInputs").appendChild(nameEntryDiv);
      }

      function removeNameInput(buttonElement) {
        document.getElementById("nameInputs").removeChild(buttonElement.parentElement);
      }

      function assign() {
        let inputs = document.querySelectorAll("#nameInputs input");
        let names = Array.from(inputs)
          .map((input) => input.value)
          .filter(String);

        let assignments = createAssignments(names);
        document.getElementById("output").innerHTML = assignments.join("<br>");
      }

      function createAssignments(names) {
        return names
          .slice(0)
          .sort(function () {
            return Math.random() - 0.5;
          })
          .map(function (name, index, arr) {
            return name + " -> " + arr[(index + 1) % arr.length];
          });
      }
    </script>
  </body>
</html>
